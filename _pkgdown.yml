# ================================
# pkgdown site configuration
# Combined template (Library users + App integrators) + perturbplan-style home/sidebar
# ================================

# Site-level options
url: https://katsevich-lab.github.io/perturbplan   # Public site URL (adjust if deploying elsewhere)

template:
  bootstrap: 5
  # includes:
  #   in_header: |
  #     <script>
  #       window.MathJax = {
  #         tex: {
  #           inlineMath: [['\\(', '\\)']],
  #           displayMath: [['\\[','\\]']]
  #         },
  #         options: {
  #           processHtmlClass: 'math',
  #           ignoreHtmlClass: 'tex2jax_ignore'
  #         }
  #       };
  #     </script>
  #     <script id="MathJax-script" async
  #       src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>


# ----------------
# Home page
# ----------------
home:
  title: "PerturbPlan"
  description: >
    Experimental design and power analysis for perturb-seq experiments.
  links:
    - text: Report a bug
      href: https://github.com/Katsevich-Lab/perturbplan/issues
    - text: Q&A and feature requests
      href: https://github.com/Katsevich-Lab/perturbplan/discussions
  sidebar:
    # Order of sidebar blocks on the home page
    structure: [links, license, citation, authors, dev]

# ----------------
# Navbar
# ----------------
navbar:
  # High-level layout of the navbar
  structure:
    left:  [reference, articles, news, webapp]
    right: [search, github]
  components:
    # Reference index
    reference:
      text: "Functions"
      href: reference/index.html

    # Articles
    articles:
      text: "Articles"
      menu:
        - text: "Prepare Data For Web App"
          href: articles/preprocess-reference.html
        # - text: "Prospective Power Analysis"
        #   href: articles/prospective-power.html
        # - text: "Retrospective Power Analysis"
        #   href: articles/posthoc.html

    # News/changelog
    news:
      text: "Changelog"
      href: news/index.html

    # Web App (external link)
    webapp:
      text: "Web App"
      icon: fa-external-link-alt
      href: https://katsevich-lab-perturbplan.share.connect.posit.cloud/

    # Right side: search comes from pkgdown; add your GitHub repo here
    github:
      icon: fa-github
      aria-label: "GitHub repository"
      href: https://github.com/Katsevich-Lab/perturbplan

# ----------------
# Reference organization
# Tip: keep high-frequency user APIs at the top; advanced/internal last.
# ----------------
reference:
  # - title: "Power functions"
  #   desc: >
  #     Power analysis functions for experimental planning (underspecified parameters) and
  #     post-hoc analysis (detailed cell count assignments per gRNA and pair).
  #   contents:
  #     - compute_power_plan
  #     - compute_power_posthoc

  - title: "Pilot data preprocessing functions"
    desc: "These functions help users create custom pilot data."
    contents:
      - reference_data_preprocessing_10x
      - reference_data_processing

  # Example datasets exposed to users
  - title: "Example data"
    desc: "Pilot datasets used by default in the app."
    contents:
      - K562_Gasperini
      - K562_10x
      - K562_Ray
      - A549_Sakellaropoulos
      - THP1_Yao
      - T_CD8_Shifrut
      - iPSC_Tian
      - iPSC_neuron_Tian

# ----------------
# Authors block (home sidebar)
# ----------------
authors:
  sidebar:
    roles: [aut, ctb, ths]
